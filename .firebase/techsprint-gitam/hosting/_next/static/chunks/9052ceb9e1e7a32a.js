(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},30257,e=>{"use strict";var a=e.i(43476),s=e.i(932),t=e.i(71645),l=e.i(59141);e.i(51718);var r=e.i(18357);e.i(36180);var d=e.i(98925),o=e.i(18566);function i({userUid:e,teamId:s,onTeamUpdate:r}){let[o,i]=(0,t.useState)(null),[n,c]=(0,t.useState)([]),[m,u]=(0,t.useState)(!1),[x,g]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[b,f]=(0,t.useState)("");(0,t.useEffect)(()=>{s&&y(s)},[s]);let y=async e=>{u(!0);try{let a=await (0,d.getDoc)((0,d.doc)(l.db,"teams",e));if(a.exists()){let e={id:a.id,...a.data()};i(e);let s=e.members.map(e=>(0,d.getDoc)((0,d.doc)(l.db,"users",e))),t=(await Promise.all(s)).map(e=>{let a=e.data();return{uid:e.id,displayName:a?.displayName||"Unknown",photoURL:a?.photoURL||""}});c(t)}}catch(e){console.error("Error fetching team:",e)}u(!1)},j=async a=>{a.preventDefault(),u(!0),f("");try{let a=Math.random().toString(36).substring(2,8).toUpperCase(),s=await (0,d.addDoc)((0,d.collection)(l.db,"teams"),{name:h,leaderId:e,members:[e],code:a});await (0,d.updateDoc)((0,d.doc)(l.db,"users",e),{teamId:s.id}),r(s.id),y(s.id)}catch(e){console.error("Error creating team:",e),f("Failed to create team. Please try again.")}u(!1)},v=async a=>{a.preventDefault(),u(!0),f("");try{let a=(0,d.query)((0,d.collection)(l.db,"teams"),(0,d.where)("code","==",x.toUpperCase())),s=await (0,d.getDocs)(a);if(s.empty){f("Invalid team code."),u(!1);return}let t=s.docs[0];if(t.data().members.length>=4){f("Team is full (max 4 members)."),u(!1);return}await (0,d.updateDoc)((0,d.doc)(l.db,"teams",t.id),{members:(0,d.arrayUnion)(e)}),await (0,d.updateDoc)((0,d.doc)(l.db,"users",e),{teamId:t.id}),r(t.id),y(t.id)}catch(e){console.error("Error joining team:",e),f("Failed to join team. Please try again.")}u(!1)};return m&&!o?(0,a.jsx)("div",{className:"p-4 text-center",children:"Loading team info..."}):o?(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)]",children:o.name}),(0,a.jsxs)("p",{className:"text-gray-500",children:["Team Code: ",(0,a.jsx)("span",{className:"font-mono font-bold text-[var(--google-blue)] bg-blue-50 px-2 py-1 rounded",children:o.code})]})]}),(0,a.jsxs)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[n.length," / 4 Members"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700",children:"Team Members"}),n.map(e=>(0,a.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[e.photoURL?(0,a.jsx)("img",{src:e.photoURL,alt:e.displayName,className:"w-10 h-10 rounded-full mr-3"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.displayName}),e.uid===o.leaderId&&(0,a.jsx)("span",{className:"text-xs text-[var(--google-yellow)] font-bold",children:"Leader"})]})]},e.uid))]}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[(0,a.jsx)("h4",{className:"font-bold text-[var(--google-blue)] mb-2",children:"Next Steps"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{children:"Complete your pitch deck before Dec 31st."}),(0,a.jsx)("li",{children:"Join the discord server for updates."}),(0,a.jsx)("li",{children:"Prepare for the hackathon on Jan 3rd."})]})]})]}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 h-full",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Team Management"}),b&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm",children:b}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Create a New Team"}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Team Name",required:!0,value:h,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--google-blue)] focus:border-transparent"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full py-2 bg-[var(--google-blue)] text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:m?"Creating...":"Create Team"})]})]}),(0,a.jsx)("div",{className:"hidden md:block w-px bg-gray-200 mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Join Existing Team"}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter Team Code",required:!0,value:x,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--google-green)] focus:border-transparent uppercase"}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full py-2 bg-[var(--google-green)] text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:m?"Joining...":"Join Team"})]})]})]})]})}var n=e.i(22016);function c(){let e,c,m,u,x,g,h,p,b,f,y,j,v,N,C,w,S,k,L,T=(0,s.c)(44),[U,D]=(0,t.useState)(null),[_,E]=(0,t.useState)(null),[R,Y]=(0,t.useState)(!0),[M,O]=(0,t.useState)(!1);T[0]===Symbol.for("react.memo_cache_sentinel")?(e={college:"",year:""},T[0]=e):e=T[0];let[P,I]=(0,t.useState)(e),q=(0,o.useRouter)();T[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let e=(0,r.onAuthStateChanged)(l.auth,async e=>{if(D(e),e){let a=(0,d.doc)(l.db,"users",e.uid),s=await (0,d.getDoc)(a);if(s.exists())E(s.data()),I({college:s.data().college||"",year:s.data().year||""});else{let s={uid:e.uid,displayName:e.displayName||"",email:e.email||"",photoURL:e.photoURL||"",college:"",year:""};await (0,d.setDoc)(a,s),E(s),O(!0)}}Y(!1)});return()=>e()},m=[],T[1]=c,T[2]=m):(c=T[1],m=T[2]),(0,t.useEffect)(c,m),T[3]!==q?(u=async()=>{await (0,r.signOut)(l.auth),q.push("/")},T[3]=q,T[4]=u):u=T[4];let J=u;T[5]!==P||T[6]!==U?(x=async e=>{if(e.preventDefault(),U)try{let e=(0,d.doc)(l.db,"users",U.uid);await (0,d.updateDoc)(e,{college:P.college,year:P.year}),E(e=>e?{...e,...P}:null),O(!1)}catch(e){console.error("Error updating profile",e)}},T[5]=P,T[6]=U,T[7]=x):x=T[7];let A=x;if(T[8]!==R||T[9]!==q||T[10]!==U?(g=()=>{R||U||q.push("/")},h=[U,R,q],T[8]=R,T[9]=q,T[10]=U,T[11]=g,T[12]=h):(g=T[11],h=T[12]),(0,t.useEffect)(g,h),R||!U)return null;T[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsxs)("svg",{className:"w-10 h-8",width:"504",height:"504",viewBox:"0 0 504 504",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M444.659 220.504C467.171 207.749 493.228 219.295 498.604 243.651L498.727 244.229C501.671 258.54 495.24 273.965 482.448 281.42C434.774 309.203 387.042 336.867 339.078 364.106C325.898 371.59 312.542 370.305 300.344 360.99L300.343 360.989C294.111 356.233 290.164 350.706 288.079 344.589C286.001 338.497 285.683 331.551 287.135 323.809C290.43 312.527 297.845 304.843 308.548 298.869L308.547 298.868C327.591 288.24 346.371 277.027 365.128 266.138L365.127 266.137C388.346 252.802 411.466 239.398 434.694 226.166L444.659 220.504Z",fill:"#FABC05",stroke:"black",strokeWidth:"9"}),(0,a.jsx)("path",{d:"M298.806 142.521C309.727 132.819 326.301 130.674 339.154 138.025C387.052 165.421 434.876 192.927 482.447 220.845C495.313 228.396 500.905 240.347 499.203 255.239L499.117 255.95C498.113 263.724 495.3 269.906 491.045 274.77C486.808 279.615 480.953 283.362 473.523 285.976C462.103 288.765 451.742 286.187 441.216 279.904C422.488 268.726 403.387 258.067 384.578 247.268C358.11 231.91 331.631 216.703 305.294 201.212C282.991 188.092 279.964 159.754 298.368 142.917L298.806 142.521Z",fill:"#109D58",stroke:"black",strokeWidth:"9"}),(0,a.jsx)("path",{d:"M164.575 138.442C177.595 131.028 190.823 131.922 202.919 140.826C209.388 145.589 213.525 151.19 215.743 157.428C217.923 163.558 218.34 170.569 216.967 178.397C216.04 180.449 215.12 182.948 214.453 184.522C213.59 186.56 212.785 188.049 211.813 189.128C207.135 194.32 201.968 199.119 196.353 202.583C177.503 214.206 158.277 225.119 139.038 236.398C122.071 246.038 105.081 255.668 88.1221 265.343C79.3282 270.359 70.8526 275.391 62.1885 280.3L58.4619 282.396C40.5079 292.417 19.363 286.57 9.21191 268.969H9.21094C-0.422102 252.268 5.09845 230.576 22.3037 220.532C69.5919 192.931 116.999 165.533 164.575 138.442Z",fill:"#E94436",stroke:"black",strokeWidth:"9"}),(0,a.jsx)("path",{d:"M36.8911 215.636C39.0871 215.365 40.7791 215.318 42.1997 215.621C49.0358 217.077 55.7766 219.15 61.5825 222.281C81.0734 232.792 100.137 243.988 119.523 255.009H119.524C136.356 264.881 153.193 274.783 170.051 284.633V284.632C180.041 290.47 189.837 295.938 199.647 301.792V301.791C217.304 312.332 222.813 333.566 212.645 351.156V351.157C203.147 367.591 182.123 373.725 164.965 364.488L164.152 364.036L146.327 353.844C104.749 330.04 63.2664 306.073 21.9233 281.873C8.99308 274.304 3.15327 262.401 4.81689 247.474C5.70649 239.489 8.48863 233.105 12.7817 228.065C17.0004 223.113 22.8619 219.245 30.3276 216.52C32.5694 216.298 35.192 215.846 36.8911 215.636Z",fill:"#4385F3",stroke:"black",strokeWidth:"9"})]}),T[13]=p):p=T[13],T[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(n.default,{href:"/",className:"flex items-center gap-2",children:[p,(0,a.jsxs)("span",{className:"text-xl font-bold text-(--foreground) relative",children:["TechS",(0,a.jsxs)("span",{children:["p",(0,a.jsx)("div",{className:"absolute -bottom-1 left-[58.5px] w-[2.5px] h-4 bg-(--foreground)"})]}),"rint"]})]})}),T[14]=b):b=T[14],T[15]!==J?(f=(0,a.jsx)("nav",{className:"bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[b,(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("button",{onClick:J,className:"text-gray-600 font-medium hover:text-[var(--google-red)]",children:"Sign Out"})})]})})}),T[15]=J,T[16]=f):f=T[16],T[17]!==_?(y=_?.photoURL&&(0,a.jsx)("img",{src:_.photoURL,alt:_.displayName,className:"rounded-full mb-4 size-24"}),T[17]=_,T[18]=y):y=T[18];let B=_?.displayName;T[19]!==B?(j=(0,a.jsx)("h2",{className:"text-xl font-bold",children:B}),T[19]=B,T[20]=j):j=T[20];let F=_?.email;T[21]!==F?(v=(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:F}),T[21]=F,T[22]=v):v=T[22],T[23]!==P||T[24]!==A||T[25]!==M||T[26]!==_?.college||T[27]!==_?.year?(N=M?(0,a.jsxs)("form",{onSubmit:A,className:"w-full mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 text-left mb-1",children:"College Name"}),(0,a.jsx)("input",{type:"text",required:!0,value:P.college,onChange:e=>I({...P,college:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--google-blue)] focus:border-transparent",placeholder:"Enter college name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 text-left mb-1",children:"Year of Study"}),(0,a.jsxs)("select",{required:!0,value:P.year,onChange:e=>I({...P,year:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--google-blue)] focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select Year"}),(0,a.jsx)("option",{value:"1st Year",children:"1st Year"}),(0,a.jsx)("option",{value:"2nd Year",children:"2nd Year"}),(0,a.jsx)("option",{value:"3rd Year",children:"3rd Year"}),(0,a.jsx)("option",{value:"4th Year",children:"4th Year"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>O(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 py-2 text-white bg-[var(--google-blue)] rounded-lg hover:bg-blue-600",children:"Save"})]})]}):(0,a.jsxs)("div",{className:"w-full text-left mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"College"}),(0,a.jsx)("p",{className:"font-medium",children:_?.college||"Not set"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Year of Study"}),(0,a.jsx)("p",{className:"font-medium",children:_?.year||"Not set"})]}),(0,a.jsx)("button",{onClick:()=>O(!0),className:"w-full mt-4 py-2 text-[var(--google-blue)] border border-[var(--google-blue)] rounded-lg hover:bg-blue-50 transition-colors",children:"Edit Profile"})]}),T[23]=P,T[24]=A,T[25]=M,T[26]=_?.college,T[27]=_?.year,T[28]=N):N=T[28],T[29]!==y||T[30]!==j||T[31]!==v||T[32]!==N?(C=(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-6 ",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[y,j,v,N]})})}),T[29]=y,T[30]=j,T[31]=v,T[32]=N,T[33]=C):C=T[33];let W=_?.teamId;return T[34]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{E(a=>a?{...a,teamId:e}:null)},T[34]=w):w=T[34],T[35]!==W||T[36]!==U.uid?(S=(0,a.jsx)("div",{className:"col-span-1 md:col-span-2",children:(0,a.jsx)(i,{userUid:U.uid,teamId:W,onTeamUpdate:w})}),T[35]=W,T[36]=U.uid,T[37]=S):S=T[37],T[38]!==C||T[39]!==S?(k=(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C,S]})}),T[38]=C,T[39]=S,T[40]=k):k=T[40],T[41]!==k||T[42]!==f?(L=(0,a.jsxs)("div",{className:"min-h-screen bg-[var(--io-light-gray)]",children:[f,k]}),T[41]=k,T[42]=f,T[43]=L):L=T[43],L}e.s(["default",()=>c],30257)}]);